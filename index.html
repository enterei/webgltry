<!DOCTYPE html>
<html>
    <head>
        <title>WebGL Example</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Basic vertex shader -->
        <script id="vs_basic" type="x-shader/x-vertex">
            attribute vec3 aPosition;
            attribute vec3 aColor;
            attribute vec3 aNormal;

            // model matrix
            uniform mat4 uMMatrix;
            // transposed inverse of the model matrix for transforming normals
            uniform mat3 uMMatrixTInv;
            // projection matrix
            uniform mat4 uPMatrix;
            
            varying mediump vec3 vColor;
            varying mediump vec3 vNormal;

            void main() {
                gl_Position = uPMatrix * uMMatrix * vec4(aPosition, 1.0);
                vColor = aColor;
                vNormal = mat3(uMMatrixTInv) * aNormal;
            }
        </script>
        <!-- Basic fragment shader -->
        <script id="fs_basic" type="x-shader/x-fragment">
            varying mediump vec3 vColor;
            varying mediump vec3 vNormal;
            
            void main() {
                // direction of parallel light source
                const mediump vec3 lightDir = vec3(-1.0, -1.0, -1.0);
                mediump float intensity = max(0.0, -dot(normalize(vNormal), lightDir));
                // diffuse reflection + ambient light
                gl_FragColor = vec4(vColor * intensity + vColor * 0.1, 1.0);
            }
        </script>

        <script id="vertex-shader" type="x-shader/x-vertex">
            attribute vec3 aPosition;
            attribute vec3 aColor;
            

            // model matrix
            uniform mat4 uMMatrix;
            // transposed inverse of the model matrix for transforming normals
          
            // projection matrix
            uniform mat4 uPMatrix;
            
            varying mediump vec3 vColor;
          
            void main()
            {
            vColor = aColor;
            gl_Position = uPMatrix * uMMatrix * vec4(aPosition, 1.0);
            }
            </script>
            
            <script id="fragment-shader" type="x-shader/x-fragment">
            
                varying mediump vec3 vColor;
              
            
            void main()
            {
                gl_FragColor = vec4(vColor,1.0 );
            }
            </script>
        
        <!-- gl-matrix.js for linear algebra -->
        <script type="text/javascript" src="gl-matrix/gl-matrix-min.js"></script>
        <script type="text/javascript" src="initShaders.js"></script>
       <script type="text/javascript" src="coordinateSystem.js"></script>
        <script type="text/javascript" src="script.js"></script>
        <script type="text/javascript" src="cube.js"></script>
    </head>
    <body onload="main()">
        <div>
            <canvas id="glCanvas" width="640" height="480"></canvas>
        </div>
    </body>
</html>
